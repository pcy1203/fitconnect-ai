# 기업 면접 설계 (Company Interview Design)

## 📋 개요

기업이 채용하고자 하는 인재상과 팀 문화를 정의하기 위한 AI 면접 시스템

**목적**: 기업의 니즈를 파악하여 정확한 Job Description 생성

---

## 🎯 핵심 차이점

| 구분 | 지원자 면접 | 기업 면접 |
|------|------------|----------|
| **대상** | 지원자 1명 | 기업 팀 (실무진 + HR) |
| **목적** | 지원자 역량 평가 | 원하는 인재상 정의 |
| **참여자** | 1명 | 여러 명 (복수 인터뷰어) |
| **결과물** | 프로필 카드 | Job Description (JD) |
| **질문 방향** | "당신은 어떤 사람인가?" | "어떤 사람을 찾는가?" |

---

## 🔄 두 가지 시작 방식

### Flow 1: 녹음 기반 인터뷰 (이상적)
```
1. 실무진 + HR 담당자 회의 진행
2. 회의 내용 녹음
3. 녹음 파일 업로드 → STT 처리
4. AI가 회의 내용 분석
5. Job Description 초안 생성
6. 검토 및 수정
```

**장점**: 자연스러운 대화에서 진짜 니즈 파악
**단점**: 녹음 필요, 시간 소요

### Flow 2: 기존 공고 기반
```
1. 회원가입 시 기존 Job Description 업로드/저장
2. General → Technical → Situational 면접 진행 ※ Technical 면접 시 기존 JD 내용을 참고하여 질문 생성
3. 면접 완료 후 정제된 JD 생성
```

**장점**: 빠른 시작, 기존 자료 활용
**핵심**: 기존 JD는 Technical 질문 생성 시에만 활용 (나머지는 동일한 흐름)

---

## 📊 3단계 면접 구조

### 1️⃣ General (HR) Interview - 인재상 & 팀 문화

**목적**: 기업의 핵심 가치와 팀 문화 파악

**질문 예시**:
- "우리 팀/회사의 핵심 가치는 무엇인가요?"
- "어떤 인재를 채용하고 싶으신가요? (3-5가지 특징)"
- "팀의 업무 방식과 문화를 설명해주세요"
- "이번 채용을 통해 해결하고 싶은 문제는 무엇인가요?"
- "이 포지션에서 가장 중요하게 생각하는 인재상이나 가치관은 무엇인가요?"

**분석 결과**:
```python
CompanyGeneralAnalysis {
    core_values: List[str]           # 핵심 가치
    ideal_candidate_traits: List[str] # 이상적인 인재 특징
    team_culture: str                # 팀 문화 설명
    work_style: str                  # 업무 방식
    hiring_reason: str               # 채용 이유/목적
}
```

---

### 2️⃣ Technical Interview - 직무 적합성

**목적**: 필요한 역량과 스킬 정의

**질문 구조**: 고정 5개 + 실시간 추천 2-3개

#### 고정 질문 (5개)
1. "이 포지션에서 수행할 주요 업무는 무엇인가요?"
2. "필수로 갖춰야 할 기술/역량은 무엇인가요?"
3. "우대하는 기술/역량이 있다면 무엇인가요?"
4. "이 포지션에서 뛰어난 성과를 낸 직원은 어떤 특징을 가지고 있었나요? (새롭게 만들어진 포지션이라면, 해당 포지션이 만들어진 이유를 알려주세요.)"
5. "이 포지션에서 예상되는 어려움이나 도전 과제는 무엇인가요?"

#### 실시간 추천 질문 (2-3개)
**생성 방식**:
- **기존 JD O**: JD 내용 + General 분석 + 이전 답변 → 구체적 follow-up
- **기존 JD X**: General 분석 + 이전 답변 → 심화 질문

**예시 시나리오**:
```
답변: "React 경험 필수입니다"
  ↓
실시간 추천:
- "React를 어느 정도 수준까지 다룰 수 있어야 하나요?"
- "React 외 다른 프론트엔드 프레임워크 경험도 중요한가요?"
```

```
답변: "빠른 학습 능력이 중요합니다"
  ↓
실시간 추천:
- "신입 팀원이 익혀야 할 기술 스택은 얼마나 되나요?"
- "온보딩 기간은 어느 정도 예상하시나요?"
```





**분석 결과**:
```python
TechnicalRequirements {
    job_title: str                    # 직무명
    main_responsibilities: List[str]  # 주요 업무 (3-5개)
    required_skills: List[str]        # 필수 역량
    recommend_skills: List[str]           # 추천 역량 
    expected_difficult: List(str)       #예상되는 어려움
}
```

---

### 3️⃣ Situational Interview - 팀 상황 & 가치

**목적**: 팀의 현재 상황과 적합한 인재상 구체화

**질문 구조**: 고정 5개 + 실시간 추천 2-3개

#### 고정 질문 (5개)
1. "현재 팀의 상황은 어떤가요? (성장기, 안정기 혹은 조직 구조 관련)"
2. "팀에서 잘 맞는 성향이나 협업 스타일은 어떤 것인가요?"
3. "팀 내에서 의견 충돌이 있을 때 어떻게 해결하나요?"
4. "빠르게 변화하는 환경 vs 안정적인 환경, 우리 팀은?"
5. "독립적으로 일하는 사람 vs 협업하는 사람, 어떤 게 더 필요한가요?"

#### 실시간 추천 질문 (2-3개)
**생성 방식**: Technical 분석 + 이전 답변 → 팀 핏 구체화 질문

**예시 시나리오**:
```
답변: "우리 팀은 성장기입니다"
  ↓
실시간 추천:
- "빠른 변화에 적응하는 능력이 중요할까요?"
- "불확실성을 즐기는 성향 vs 체계를 선호하는 성향, 어떤 게 더 맞나요?"
```

```
답변: "수평적 문화를 지향합니다"
  ↓
실시간 추천:
- "주니어가 시니어에게 의견을 제시하는 것을 환영하시나요?"
- "의사결정 과정에서 팀원들의 참여도는 어느 정도인가요?"
```

```
답변: "협업이 매우 중요합니다"
  ↓
실시간 추천:
- "원격 근무 상황에서도 협업이 원활한 사람을 찾으시나요?"
- "팀 내 커뮤니케이션 툴이나 방식이 정해져 있나요?"
```


**분석 결과**:
```python
TeamCultureProfile {
    team_situation: str              # 팀 현황 (성장기, 안정기 등)
    conflict_resolution: str         # 갈등 해결 방식
    work_environment: str            # 업무 환경 특성
    preferred_work_style: str        # 선호하는 업무 스타일
    team_values: List[str]           # 팀이 중요시하는 가치
   missing_skills_in_team: List[str] # 팀 내 부족한 역량

}
```

---

## 👥 멀티 인터뷰어 처리 (간소화)

### 방식: 자연스러운 대화 → AI 자동 분석

**문제점**:
- 실무진A: "React 필수!"
- 실무진B: "Vue도 괜찮아"
- HR: "기술보다 커뮤니케이션 능력!"

→ **의견 충돌 발생**

### 해결 방안

**1. 전체 대화 녹음**
```
실무진 + HR 담당자가 함께 회의/토론
   ↓
하나의 음성 파일로 녹음
   ↓
STT로 전체 텍스트 변환
```

**2. LLM이 대화 분석**
```python
analyze_team_discussion(conversation_text) → {
    participants: List[str],           # 참여자 파악
    opinions: Dict[str, List[str]],    # 발언자별 의견
    conflicts: List[Conflict],         # 충돌 감지
    consensus: Consensus               # 자동 합의안 도출
}
```

**3. 자동 합의점 도출**
```
녹음 내용:
"실무진A: React 경험이 필수입니다"
"실무진B: Vue도 괜찮다고 봅니다"
"HR: 프레임워크보다 빠른 학습 능력이 중요해요"

↓ LLM 자동 분석

합의안:
- 필수: React 또는 Vue 프레임워크 경험
- 우대: 빠른 학습 능력 및 적응력
```

**장점**:
- ✅ 자연스러운 대화 가능
- ✅ 개별 응답 수집 불필요
- ✅ LLM이 자동으로 충돌 해결
- ✅ 구현 간단

---

## 📝 최종 결과물: Job Posting Card

### 데이터 구조

```python
JobPostingCard {
    # === 헤더 정보 ===
    company_name: str                    # 회사명
    position_title: str                  # 포지션명
    deadline: str                        # 마감일

    # === 공고 정보 박스 ===
    experience_level: str                # 경력 (예: "경력직 3-5년차")
    contract_duration: str               # 근무 기간 (예: "6개월")
    department: str                      # 근무 부서 (예: "개발팀")
    employment_type: str                 # 고용 형태 (예: "정규직", "계약직")
    salary_info: str                     # 연봉 정보 (예: "연봉 협상")

    # === 주요 역할/업무 (Technical에서 추출) ===
    main_responsibilities: List[str]     # 4개 항목

    # === 자격 요건 (Technical에서 추출) ===
    required_skills: List[str]           # 필수 역량 4개

    # === 요구 역량 (Technical에서 추출) ===
    preferred_skills: List[str]          # 우대 역량 4개

    # === 기업 정보 (General + Situational에서 추출) ===
    company_info: {
        funding_stage: str               # 투자 단계 (예: "Series B")
        company_culture: str             # 조직 문화 설명
        benefits: List[str]              # 복리후생
    }

    # === 인재상 (Situational에서 추출) ===
    personality_fit: str                 # 적합한 성향/인재상 설명

    # === 도전 과제 (Technical에서 추출) ===
    challenges: str                      # 예상되는 어려움/도전 과제
}
```

### 데이터 출처 우선순위

**기본 공고 정보** (experience_level, contract_duration, department, employment_type, salary_info):
1. **우선**: 기존 JD에서 추출 (있는 경우)
2. **대안**: General/Technical 면접 내용에서 추출

**나머지 정보**: 면접 단계별 분석 결과에서 추출
- **General Interview** → company_info (culture, benefits), core_values
- **Technical Interview** → main_responsibilities, required_skills, preferred_skills, challenges
- **Situational Interview** → personality_fit, team_environment

### 카드 레이아웃

```
┌─────────────────────────────────────────┐
│ [회사명]                                 │
│ 포지션명                                 │
│ 📅 마감일                                │
├─────────────────────────────────────────┤
│ 📋 공고 정보                             │
│ • 경력: 경력직 3-5년차                   │
│ • 근무 기간: 6개월                       │
│ • 근무 부서: 개발팀                      │
│ • 연봉: 협상                             │
├─────────────────────────────────────────┤
│ 💼 주요 역할/업무                        │
│ 1. [역할 1]                              │
│ 2. [역할 2]                              │
│ 3. [역할 3]                              │
│ 4. [역할 4]                              │
├─────────────────────────────────────────┤
│ ✅ 자격 요건                             │
│ • [필수 스킬 1]                          │
│ • [필수 스킬 2]                          │
│ • [필수 스킬 3]                          │
│ • [필수 스킬 4]                          │
├─────────────────────────────────────────┤
│ ⭐ 요구 역량                             │
│ • [우대 스킬 1]                          │
│ • [우대 스킬 2]                          │
│ • [우대 스킬 3]                          │
│ • [우대 스킬 4]                          │
├─────────────────────────────────────────┤
│ 🏢 기업 정보                             │
│ • 투자 단계: [Series B]                  │
│ • 조직문화: [설명]                       │
│ • 복리후생: [혜택들]                     │
├─────────────────────────────────────────┤
│ 👤 인재상                                │
│ [적합한 성향 및 가치관 설명]             │
├─────────────────────────────────────────┤
│ 🎯 도전 과제                             │
│ [예상되는 어려움 및 성장 기회]           │
└─────────────────────────────────────────┘
```

---

## 🔄 전체 플로우

```
1. 기업 면접 시작 (기존 JD 있으면 업로드)
   ↓
2. General Interview (5개 고정 질문)
   → 인재상, 팀 문화 파악
   → AI 실시간 분석
   ↓
3. Technical Interview (고정 5개 + 실시간 2-3개)
   → 고정 질문 5개 진행
   → 답변 분석 후 실시간 추천 질문 2-3개 생성
   → 필수/우대 역량 정의
   ↓
4. Situational Interview (고정 5개 + 실시간 2-3개)
   → 고정 질문 5개 진행
   → 답변 분석 후 실시간 추천 질문 2-3개 생성
   → 팀 핏 구체화
   ↓
5. AI 종합 분석
   - 멀티 인터뷰어 충돌 감지 및 해결
   - 합의점 도출
   - 기존 JD 정보와 면접 내용 통합
   ↓
6. Job Posting Card 생성
   ↓
7. 검토 및 수정
   ↓
8. 최종 JD 확정
```

**총 예상 질문 수**: 15-21개
- General: 5개
- Technical: 7-8개
- Situational: 7-8개

---

## 🚀 구현 우선순위

### Phase 1: 핵심 기능
- [x] 설계 문서 작성
- [ ] Pydantic 모델 정의
- [ ] General Interview (고정 5개)
- [ ] Technical Interview (고정 5개 + 실시간 추천)
- [ ] Situational Interview (고정 5개 + 실시간 추천)
- [ ] 실시간 추천 질문 생성 로직
- [ ] Job Posting Card 생성

### Phase 2: 멀티 인터뷰어 & 고도화
- [ ] 대화 분석 (멀티 인터뷰어 처리)
- [ ] 충돌 감지 및 합의안 도출
- [ ] 기존 JD 업로드 및 통합
- [ ] API 엔드포인트

### Phase 3: 추가 기능
- [ ] 녹음 파일 업로드 + STT
- [ ] JD 편집 UI
- [ ] 버전 관리

---

## 💡 추가 아이디어

### 기존 팀원 프로필 활용
```
현재 팀원들의 강점/약점 분석
   ↓
부족한 역량 자동 추출
   ↓
JD에 반영
```

### 시장 데이터 비교
```
같은 포지션의 다른 회사 JD 분석
   ↓
우리 회사 JD와 비교
   ↓
경쟁력 있는 조건 제안
```

---

## 📌 핵심 질문 정리 (최종)

### General (5개 고정)
1. "우리 팀/회사의 핵심 가치는 무엇인가요?"
2. "어떤 인재를 채용하고 싶으신가요? (3-5가지 특징)"
3. "팀의 업무 방식과 문화를 설명해주세요"
4. "이번 채용을 통해 해결하고 싶은 문제는 무엇인가요?"
5. "이 포지션에서 가장 중요하게 생각하는 인재상이나 가치관은 무엇인가요?"

### Technical (5개 고정 + 2-3개 실시간)
**고정 5개**:
1. "이 포지션에서 수행할 주요 업무는 무엇인가요?"
2. "필수로 갖춰야 할 기술/역량은 무엇인가요?"
3. "우대하는 기술/역량이 있다면 무엇인가요?"
4. "이 포지션에서 뛰어난 성과를 낸 직원은 어떤 특징을 가지고 있었나요?"
5. "이 포지션에서 예상되는 어려움이나 도전 과제는 무엇인가요?"

**실시간 2-3개**: 답변 내용에 따라 동적 생성

### Situational (5개 고정 + 2-3개 실시간)
**고정 5개**:
1. "현재 팀의 상황은 어떤가요? (성장기, 안정기 등)"
2. "팀에서 잘 맞는 성향이나 협업 스타일은 어떤 것인가요?"
3. "팀 내에서 의견 충돌이 있을 때 어떻게 해결하나요?"
4. "빠르게 변화하는 환경 vs 안정적인 환경, 우리 팀은?"
5. "독립적으로 일하는 사람 vs 협업하는 사람, 어떤 게 더 필요한가요?"

**실시간 2-3개**: 답변 내용에 따라 동적 생성
